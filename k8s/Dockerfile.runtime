# Use debian:bookworm instead of bookworm-slim - it includes ca-certificates by default
FROM debian:bookworm

WORKDIR /app

# Copy the pre-built binary
COPY just_storage /app/just_storage

# Create data directories
RUN mkdir -p /data/hot /data/cold && \
    chmod +x /app/just_storage

EXPOSE 8080

CMD ["/app/just_storage"]

