# Docker Compose Environment Configuration for JustStorage
# Copy this file to override default values in docker-compose.yml

# Database
POSTGRES_DB=just_storage
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password
DATABASE_URL=postgres://postgres:password@db:5432/just_storage

# Application
HOT_STORAGE_ROOT=/data/hot
COLD_STORAGE_ROOT=/data/cold
LISTEN_ADDR=0.0.0.0:8080
GC_INTERVAL_SECS=60
GC_BATCH_SIZE=100

# Database Connection Pool Settings
DB_MAX_CONNECTIONS=20
DB_MIN_CONNECTIONS=5
DB_ACQUIRE_TIMEOUT_SECS=30
DB_IDLE_TIMEOUT_SECS=600
DB_MAX_LIFETIME_SECS=1800

# Logging
RUST_LOG=info

# Authentication (REQUIRED for production)
JWT_SECRET=development-secret-key-change-in-production
API_KEYS=key1,key2,key3

# Development only - disable auth (DO NOT USE IN PRODUCTION)
DISABLE_AUTH=false

# Performance and Security Settings
REQUEST_TIMEOUT_SECS=30
MAX_BODY_SIZE=104857600
RATE_LIMIT_RPM=60
CORS_ALLOWED_ORIGINS=*
SECURITY_HEADERS_ENABLED=true

# Metrics and monitoring
METRICS_ENABLED=true
METRICS_PORT=9090

# pgAdmin (optional)
PGADMIN_DEFAULT_EMAIL=admin@juststorage.com
PGADMIN_DEFAULT_PASSWORD=password